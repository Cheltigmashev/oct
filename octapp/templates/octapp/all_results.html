{% extends 'octapp/list_with_pagination.html' %}
{% load staticfiles %}

{% block page_style %}
<link rel="stylesheet" href="{% static 'octapp/css/sorting_and_pagination.css' %}">
{% endblock %}


{% block before_pagination %}

<div class="dropdown inline_block">

    <button id="dLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown btn btn-block btn-default btn-lg">
        Фильтрация и сортировка
        <span class="caret"></span>
    </button>

    <form aria-labelledby="dLabel" class="dropdown-menu sort_filter_form" method="GET" action="">
        <label for="sorting">Сортировать по:</label>
        <select id="sorting" name="sorting">
    {% if sorting == 'username' %}
            <option value="username" selected>Именам пользователей (А-Я/A-Z)</option>
    {% else %}
            <option value="username">Именам пользователей (А-Я/A-Z)</option>
    {% endif %}

    {% if sorting == 'passing_date' %}
            <option value="passing_date" selected>Дате прохождения</option>
    {% else %}
            <option value="passing_date">Дате прохождения</option>
    {% endif %}

    {% if sorting == 'name_asc' %}
            <option value="name_asc" selected>Наименованию (А-Я)</option>
    {% elif not sorting %}
            <option value="name_asc" selected>Наименованию (А-Я)</option>
    {% else %}
            <option value="name_asc">Наименованию (А-Я)</option>
    {% endif %}
        </select>

        <hr>
        <div><input type="submit" value="Выполнить" class="btn btn-block btn-default btn-lg"></input></div>
        </form>
    </div>

    {% if sorting == "rating_desc"  %}
<h2 class="text-center">Тесты по убыванию рейтинга</h2>
    {% elif sorting == "published_date_desc"  %}
<h2 class="text-center">Тесты по дате публикации (сначала новые)</h2>
    {% elif sorting == "name_asc"  %}
<h2 class="text-center">Тесты по алфавиту</h2>
    {% else %}
<h2 class="text-center">Тесты по алфавиту</h2>
    {% endif %}

    {% for result in some_page %}
        <div class="test_div">
            {{ result }}
        </div>
    {% empty %}
    <hr>
    <h3>Нет (таких) результатов</h3>
    {% endfor %}

{% endblock %}
